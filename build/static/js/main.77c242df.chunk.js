(this["webpackJsonpitchiro-game-dex"]=this["webpackJsonpitchiro-game-dex"]||[]).push([[1],{406:function(e,t,a){e.exports=a(973)},441:function(e,t){},461:function(e,t){},463:function(e,t){},532:function(e,t){},534:function(e,t){},566:function(e,t){},571:function(e,t){},573:function(e,t){},580:function(e,t){},593:function(e,t){},972:function(e,t,a){e.exports=a.p+"static/media/itchiro-logo.153cc9da.png"},973:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(27),i=a.n(o),c=a(48),l=Object(n.createContext)({}),s=l.Provider,m=a(1025),d=a(1018),u=a(1019),g=a(396),p=a(1024),h=a(121),f=a(7),E=a(21),b=a(76),v=a.n(b),O=a(160),x=function e(){var t=this;Object(f.a)(this,e),this.title=void 0,this.user=void 0,this.collection=void 0,this.orders=void 0,this.asset=void 0,this.seaport=void 0,this.provider=void 0,this.errorMessage=void 0,this.setTitle=Object(E.action)((function(e){t.title=e})),this.setProvider=Object(E.action)((function(e){t.provider=e,t.seaport=new O.OpenSeaPort(e,{networkName:O.Network.Main})})),this.fetchCollection=Object(E.action)((function(e){console.log("fetching"),t.seaport&&t.seaport.api.getAssets({asset_contract_address:e,order_by:"tokenId",limit:100}).then((function(e){console.log(e),t.collection=e.assets}))})),this.fetchAsset=Object(E.action)((function(e,a){console.log("fetching"),t.seaport&&(t.seaport.api.getAsset({tokenAddress:e,tokenId:a}).then((function(e){console.log(e),t.asset=e})),t.seaport.api.getOrders({asset_contract_address:e,token_id:a}).then((function(e){var a=e.orders;e.count;console.log(a),t.orders=a})))})),this.buyOrder=Object(E.action)((function(e){console.log("buying"),t.seaport&&t.seaport.fulfillOrder({order:e,accountAddress:t.provider.selectedAddress}).then((function(e){console.log(e)})).catch((function(e){t.errorMessage=e.message}))}));var a=new v.a.providers.HttpProvider("https://mainnet.infura.io/v3/77a0f6647eb04f5ca1409bba62ae9128"),n=new O.OpenSeaPort(a,{networkName:O.Network.Main});Object(E.extendObservable)(this,{title:"Itchiro Games DEX",user:void 0,seaport:n,collection:void 0,orders:void 0,asset:void 0,provider:void 0,errorMessage:void 0})},y=new function e(){Object(f.a)(this,e),this.router=void 0,this.app=void 0,this.router=new c.RouterStore(this),this.app=new x},k=a(37),C=[{title:"Decentraland",address:"0xf87e31492faf9a91b02ee0deaad50d51d56d5d4d"},{title:"Battle Racers",address:"0x0f3b491841680eb40bd2be42bce7104f2511dbd9"},{title:"Alphalpha City",address:"0xc7e5e9434f4a71e6db978bd65b4d61d3593e5f27"},{title:"The Sandbox",address:"0x067a1eb5e383ed24b66d72aaf80d8d7db3d299a8"},{title:"Vegas City",address:"0xf4618abb5e8031454238696a0f013dcd1476dc33"},{title:"Crypto Avatars",address:"0xc1def47cf1e15ee8c2a92f4e0e968372880d18d1"}],j=a(1006),w=a(1004),N=Object(w.a)((function(e){return{root:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}}})),S=function(){Object(n.useContext)(l);var e=N();return r.a.createElement("div",{className:e.root},r.a.createElement(j.a,null))},P=Object(k.observer)((function(){return(0,Object(n.useContext)(l).router.goTo)(ce.collection,{collection:C[0].address}),r.a.createElement(S,null)})),I=a(1011),T=a(1026),R=a(1007),A=Object(w.a)((function(e){return{media:{height:0,paddingTop:"100%",backgroundSize:"contain",width:"100%"},root:{width:"100%"}}})),D=function(e){var t=e.asset,a=A();return t?r.a.createElement(T.a,{className:a.root},r.a.createElement(R.a,{className:a.media,image:t.imageUrlOriginal,title:t.name})):r.a.createElement(j.a,null)},L=a(1008),z=a(1027),M=a(1009),W=a(1010),F=a(207),_=a(119),U=a.n(_),H=Object(w.a)((function(e){return{media:{height:0,paddingTop:"56.25%",backgroundSize:"contain",width:"100%"},root:{width:"100%"},price:{display:"flex",alignItems:"center",margin:e.spacing(2,0)},priceCopy:{marginRight:e.spacing(2)},name:{marginBottom:e.spacing(2)}}})),q=function(e){var t,a=e.asset,n=e.buyClicked,o=H();return a?r.a.createElement(T.a,{className:o.root},r.a.createElement(L.a,{avatar:r.a.createElement(z.a,{"aria-label":"recipe",src:a.owner.profileImgUrl}),action:r.a.createElement(M.a,{"aria-label":"settings",onClick:function(){}},r.a.createElement(U.a,null)),title:null===(t=a.owner.user)||void 0===t?void 0:t.username,subheader:a.collection.name}),r.a.createElement(W.a,null,r.a.createElement(F.a,{variant:"h2",className:o.name},a.name),a.sellOrders.length>0&&r.a.createElement("div",{className:o.price},r.a.createElement(F.a,{variant:"body2",className:o.priceCopy},"Current Price:"),r.a.createElement(I.a,{variant:"outlined",size:"large",onClick:function(){return n(a.sellOrders[0])}},v.a.utils.fromWei(a.sellOrders[0].currentPrice.toString()),"\u039e")),r.a.createElement(F.a,{variant:"body1",component:"p"},a.description||"No Description"))):r.a.createElement(j.a,null)},B=a(1012),J=a(1013),G=a(1014),Q=a(1015),V=a(1016),X=a(1017),Y=Object(w.a)((function(e){return{root:{}}})),K=function(e){var t=e.orders,a=Y();return t?r.a.createElement(T.a,{className:a.root},r.a.createElement(L.a,{action:r.a.createElement(M.a,{"aria-label":"settings",onClick:function(){}},r.a.createElement(U.a,null)),title:"Trading history",subheader:t.length>0?t.length+" Events":"No history found."}),r.a.createElement(W.a,null,r.a.createElement(G.a,null,r.a.createElement(Q.a,{"aria-label":"simple table"},r.a.createElement(V.a,null,r.a.createElement(B.a,null,r.a.createElement(J.a,{align:"left"},"Listed by"),r.a.createElement(J.a,{align:"left"},"Listing time"),r.a.createElement(J.a,{align:"left"},"Expiration"),r.a.createElement(J.a,{align:"right"},"Current Price"),r.a.createElement(J.a,{align:"right"},"Quantity"),r.a.createElement(J.a,{align:"right"},"Status"))),r.a.createElement(X.a,null,t.map((function(e){var t,a,n,o;return r.a.createElement(B.a,{key:e.v},r.a.createElement(J.a,{align:"left"},null===(t=e.makerAccount)||void 0===t||null===(a=t.user)||void 0===a?void 0:a.username),r.a.createElement(J.a,{align:"left"},new Date((null===(n=e.listingTime)||void 0===n?void 0:n.toNumber())||0).toLocaleTimeString()),r.a.createElement(J.a,{align:"left"},new Date((null===(o=e.expirationTime)||void 0===o?void 0:o.toNumber())||0).toLocaleDateString()),r.a.createElement(J.a,{align:"right"},v.a.utils.fromWei(e.currentPrice.toString()),"\u039e"),r.a.createElement(J.a,{align:"right"},e.quantity.toString()),r.a.createElement(J.a,{align:"right"},e.cancelledOrFinalized?"0x0000000000000000000000000000000000000000"==e.taker?"Cancelled":"Sold":"Live"))}))))))):r.a.createElement(j.a,null)},Z=a(1020),$=Object(w.a)((function(e){return{assetContainer:{paddingRight:e.spacing(2),paddingTop:e.spacing(2)}}})),ee=Object(k.observer)((function(){var e=$(),t=Object(h.b)().enqueueSnackbar,a=Object(n.useContext)(l),o=a.router,i=(o.params,o.goTo),c=a.app,s=c.asset,m=c.orders,g=c.buyOrder,p=c.provider;return s?r.a.createElement(d.a,{maxWidth:"lg"},r.a.createElement(u.a,{container:!0,spacing:2,className:e.assetContainer},r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(I.a,{onClick:function(){return i(ce.collection,{collection:(null===s||void 0===s?void 0:s.tokenAddress)||"0x"})},startIcon:r.a.createElement(Z.a,null)},s.collection.name)),r.a.createElement(u.a,{item:!0,xs:12,md:5},r.a.createElement(D,{asset:s})),r.a.createElement(u.a,{item:!0,xs:12,md:7},r.a.createElement(q,{asset:s,buyClicked:function(e){if(!p)return t("Please connect your wallet before purchasing.",{variant:"error"});g(e)}})),r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(K,{orders:m})))):r.a.createElement(S,null)})),te=Object(k.observer)((function(){var e=Object(n.useContext)(l).router.params;return r.a.createElement("div",null,r.a.createElement("h1",null," Account: ",null===e||void 0===e?void 0:e.account," "))})),ae=a(1021),ne=Object(w.a)((function(e){return{thumbnail:{width:"4rem"},root:{cursor:"pointer"},media:{height:0,paddingTop:"56.25%",backgroundSize:"contain"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},name:{padding:e.spacing(2,0,1)}}})),re=function(e){var t,a=e.asset,n=e.onClick,o=ne();return a?r.a.createElement(u.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(T.a,{className:o.root},r.a.createElement(ae.a,{onClick:function(){return n(a)}},r.a.createElement(L.a,{avatar:r.a.createElement(z.a,{"aria-label":"recipe",src:a.owner.profileImgUrl}),action:r.a.createElement(M.a,{"aria-label":"settings"},r.a.createElement(U.a,null)),title:null===(t=a.owner.user)||void 0===t?void 0:t.username,subheader:a.collection.name}),r.a.createElement(R.a,{className:o.media,image:a.imageUrlThumbnail,title:a.name}),r.a.createElement(W.a,null,r.a.createElement(F.a,{variant:"h4",className:o.name},a.name),r.a.createElement(F.a,{variant:"body2",component:"p"},a.description||"No Description"),!!a.sellOrders&&a.sellOrders.length>0&&r.a.createElement(F.a,{variant:"body2",component:"p"},"\u039e ",v.a.utils.fromWei(a.sellOrders[0].currentPrice.toString())))))):r.a.createElement(j.a,null)},oe=Object(w.a)((function(e){return{assets:{paddingTop:e.spacing(2),paddingRight:e.spacing(2)},avatar:{width:"6rem",height:"6rem"},headerContainer:{padding:e.spacing(10,5,10,10)}}})),ie=Object(k.observer)((function(){var e=Object(n.useContext)(l),t=oe(),a=e.router,o=(a.params,a.goTo),i=e.app.collection,c=function(e){o(ce.asset,{collection:e.tokenAddress,id:e.tokenId})};return i?r.a.createElement("div",null,r.a.createElement(u.a,{container:!0,spacing:2,alignItems:"center",className:t.headerContainer},r.a.createElement(u.a,{item:!0},r.a.createElement(z.a,{src:i[0].assetContract.imageUrl,className:t.avatar})),r.a.createElement(u.a,{item:!0,xs:9},r.a.createElement(F.a,{variant:"h1"},i[0].assetContract.name," "),r.a.createElement(F.a,{variant:"body1"},i[0].assetContract.description," "))),r.a.createElement(u.a,{container:!0,spacing:2,alignItems:"center",className:t.assets},i?i.map((function(e){return r.a.createElement(re,{asset:e,onClick:c})})):r.a.createElement(S,null))):r.a.createElement(S,null)})),ce={home:new c.Route({path:"/",component:r.a.createElement(P,null)}),collection:new c.Route({path:"/collection/:collection",component:r.a.createElement(ie,null),onEnter:function(e,t,a){var n=t.collection;console.log("entering collection: ".concat(n,"!")),a.app.fetchCollection(n)},beforeExit:function(){console.log("exiting collection!")},onParamsChange:function(e,t,a){var n=t.collection;console.log("collection changed to",n),a.app.fetchCollection(n)}}),asset:new c.Route({path:"/asset/:collection/:id",component:r.a.createElement(ee,null),onEnter:function(e,t,a){var n=t.collection,r=t.id;console.log("entering asset: ".concat(n," + ").concat(r)),a.app.fetchAsset(n,r)},beforeExit:function(e,t,a){console.log("exiting asset"),a.app.asset=void 0},onParamsChange:function(e,t,a){var n=t.collection,r=t.id;console.log("params changed to",n,r),a.app.fetchAsset(n,r)}}),account:new c.Route({path:"/accounts/:account",component:r.a.createElement(te,null),onEnter:function(e,t){var a=t.account;console.log("entering account: ".concat(a,"!"))},beforeExit:function(){console.log("exiting account!")},onParamsChange:function(e,t){console.log("params changed to",t)}})},le=a(1022),se=a(1023),me=a(977),de=Object(w.a)((function(e){return{root:{padding:e.spacing(0,2,2,2)},redDot:{display:"inline-block",width:e.spacing(1),height:e.spacing(1),marginRight:e.spacing(1),borderRadius:e.spacing(1),background:e.palette.error.main},greenDot:{display:"inline-block",width:e.spacing(1),height:e.spacing(1),marginRight:e.spacing(1),borderRadius:e.spacing(1),background:e.palette.success.main}}})),ue=Object(k.observer)((function(){var e,t=de(),a=Object(me.h)(),o=Object(n.useContext)(l),i=(o.router.goTo,o.app.setProvider);return Object(n.useEffect)((function(){a.ethereum&&i(a.ethereum)}),[a.ethereum]),"connected"===a.status?r.a.createElement("div",{className:t.root},r.a.createElement(I.a,{fullWidth:!0,variant:"outlined",onClick:function(){return a.reset()}},r.a.createElement("div",{className:"connected"!==a.status?t.redDot:t.greenDot}),(e=a.account).slice(0,6)+"..."+e.slice(e.length-4,e.length))):r.a.createElement("div",{className:t.root},r.a.createElement(I.a,{fullWidth:!0,onClick:function(){a.connect("provided")},variant:"outlined"},r.a.createElement("div",{className:"connected"!==a.status?t.redDot:t.greenDot}),a.status))})),ge=Object(w.a)((function(e){return{logo:{width:"50%",minWidth:"7rem",margin:"1rem auto 3rem",display:"block"},listHeader:{fontSize:".8rem",textTransform:"uppercase",marginLeft:e.spacing(4),color:e.palette.primary.main},link:{color:"inherit",textDecoration:"none"},root:{height:"100vh",paddingTop:e.spacing(2),marginRight:e.spacing(-2),marginLeft:e.spacing(-2),display:"flex",flexDirection:"column",justifyContent:"space-between"},listItem:{cursor:"pointer","&:hover":{background:"rgba(255,255,255,.05)"},paddingLeft:e.spacing(4)},activeListItem:{background:"rgba(255,255,255,.1)"}}})),pe=Object(k.observer)((function(){var e=ge(),t=Object(n.useContext)(l),o=t.router.goTo,i=t.app.errorMessage,s=Object(h.b)().enqueueSnackbar;Object(n.useEffect)((function(){i&&s(i,{variant:"error"})}),[i]);return r.a.createElement(me.a,{chainId:1,connectors:{portis:{dAppId:"itchiro-dex"}}},r.a.createElement("div",{className:e.root},r.a.createElement("div",null,r.a.createElement("img",{src:a(972),className:e.logo}),r.a.createElement("h2",{className:e.listHeader},"Collections"),r.a.createElement(se.a,null,C.map((function(a){var n;return r.a.createElement(le.a,{className:e.listItem+" "+((null===(n=t.router.params)||void 0===n?void 0:n.collection)===a.address?e.activeListItem:""),onClick:function(){return o(ce.collection,{collection:a.address})}},a.title)}))),r.a.createElement("h2",{className:e.listHeader},"Library"),r.a.createElement(se.a,null,r.a.createElement(le.a,{className:e.listItem},r.a.createElement(c.Link,{className:e.link,router:t.router,route:ce.account,params:{account:"0x926b69693d22fd939d91bcb403e46e6a5094cc94"},title:"My Items"})))),r.a.createElement(ue,null)))})),he=Object(g.a)({palette:{type:"dark",primary:{main:"#12a9b4"}},typography:{h1:{fontFamily:"'Press Start 2P'",fontSize:"2.5rem"},h2:{fontFamily:"'Press Start 2P'",fontSize:"2rem"},h3:{fontFamily:"'Press Start 2P'",fontSize:"1.8rem"},h4:{fontFamily:"'Press Start 2P'",fontSize:"1rem"},h5:{fontFamily:"'Press Start 2P'"},h6:{fontFamily:"'Press Start 2P'"}}});Object(c.startRouter)(ce,y,{html5history:!0}),i.a.render(r.a.createElement(s,{value:y},r.a.createElement(p.a,{theme:he},r.a.createElement(m.a,null),r.a.createElement(h.a,{maxSnack:5,anchorOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(d.a,{maxWidth:!1},r.a.createElement(u.a,{container:!0,style:{overflow:"hidden"},spacing:4},r.a.createElement(u.a,{item:!0,xs:3,md:2,style:{background:"#111"}},r.a.createElement(pe,null)),r.a.createElement(u.a,{item:!0,xs:9,md:10,style:{height:"100vh",overflowY:"scroll"}},r.a.createElement(c.MobxRouter,{store:y}))))))),document.getElementById("root"))}},[[406,2,3]]]);
//# sourceMappingURL=main.77c242df.chunk.js.map